# 投资大师群聊工作流 💬

这是一个创新的投资讨论工作流，让三位投资大师（巴菲特、芒格、木头姐）能够就同一个投资问题进行深度讨论，并互相评价彼此的观点。

## 🎯 工作流特点

### 📋 讨论流程
1. **用户提问** - 用户提出投资相关问题
2. **巴菲特首发** - 巴菲特从价值投资角度首先回应
3. **芒格跟进** - 芒格评价巴菲特观点并提供理性分析
4. **木头姐收官** - 木头姐从创新投资角度评价前两位观点
5. **自动总结** - 系统生成讨论总结和核心观点

### 💡 独特价值
- **多角度分析**: 同一问题获得三种不同投资视角
- **观点碰撞**: 大师们会互相评价和回应彼此观点
- **思维互补**: 传统价值投资 vs 理性分析 vs 创新投资
- **深度讨论**: 不仅回答问题，还进行智慧交流

## 🏛️ 参与的投资大师

### 💎 巴菲特 (首发发言)
**角色定位**: 价值投资之父，"奥马哈的先知"
**发言特点**:
- 强调企业内在价值和长期持有
- 用简单易懂的语言解释复杂概念
- 结合具体投资案例和经验
- 展现投资智慧和生活哲学

### 🎯 芒格 (中场评价)
**角色定位**: 理性思维大师，多元思维模型倡导者
**发言特点**:
- 评价巴菲特观点，提供补充或不同角度
- 运用多学科知识分析问题
- 指出可能的认知偏误和思维陷阱
- 直言不讳，犀利而深刻

### 🌟 木头姐 (压轴总结)
**角色定位**: 颠覆性创新投资专家
**发言特点**:
- 评价前两位大师的传统观点
- 强调技术创新和未来趋势
- 提供创新投资视角
- 挑战传统思维，展现前瞻性

## 🔄 工作流架构

### 技术实现
```typescript
// 工作流步骤
1. buffett-response    // 巴菲特首次回应
2. munger-response     // 芒格评价和回应
3. cathie-response     // 木头姐评价和回应
4. generate-summary    // 生成讨论总结
```

### 数据流转
```
用户问题 
  ↓
巴菲特观点
  ↓ (传递给芒格)
芒格观点 + 对巴菲特的评价
  ↓ (传递给木头姐)
木头姐观点 + 对前两位的评价
  ↓
自动生成讨论总结
```

## 💬 示例对话场景

### 输入问题
```
"特斯拉股票现在还值得投资吗？请分析其投资价值。"
```

### 预期讨论流程

**💎 巴菲特**: 
"从价值投资角度看，特斯拉的估值确实偏高。我更倾向于投资那些业务模式清晰、现金流稳定的企业。虽然特斯拉在电动车领域有先发优势，但我们需要问这个优势能否持续..."

**🎯 芒格**: 
"沃伦说得有道理，但我们也要考虑认知偏误的影响。很多投资者对特斯拉的看法可能过于极端化。从多元思维模型来看，我们需要考虑技术变革的速度、监管环境的变化，以及马斯克这个变量..."

**🌟 木头姐**:
"两位前辈的分析很有价值，但我认为我们不能用传统的估值方法来看待颠覆性创新。特斯拉不仅是汽车公司，更是能源和自动驾驶技术的先锋。技术的指数级发展可能让传统分析框架失效..."

## 🚀 使用方式

### 基础调用
```typescript
import { mastra } from './src/mastra/index.js';

const groupChatWorkflow = mastra.getWorkflow('investmentGroupChatWorkflow');

const result = await groupChatWorkflow.execute({
  inputData: {
    userQuestion: "你的投资问题"
  }
});

// 结果包含：
// - userQuestion: 原始问题
// - messages: 三位大师的对话消息
// - summary: 自动生成的讨论总结
```

### 结果结构
```typescript
{
  userQuestion: string,
  messages: [
    {
      speaker: "巴菲特",
      content: "巴菲特的回复...",
      timestamp: "2024-01-01T00:00:00.000Z"
    },
    {
      speaker: "芒格", 
      content: "芒格的回复和评价...",
      timestamp: "2024-01-01T00:00:01.000Z"
    },
    {
      speaker: "木头姐",
      content: "木头姐的回复和评价...", 
      timestamp: "2024-01-01T00:00:02.000Z"
    }
  ],
  summary: "讨论总结..."
}
```

## 🎨 适用场景

### 📊 投资决策
- **股票分析**: 获得多角度的个股投资建议
- **行业研究**: 了解不同投资流派对行业的看法
- **策略制定**: 综合多种投资理念制定策略

### 📚 投资教育
- **理念对比**: 直观了解不同投资理念的差异
- **思维训练**: 学习多元化的投资思维方式
- **案例分析**: 通过具体问题学习投资分析方法

### 🔍 市场分析
- **趋势判断**: 获得传统与创新视角的市场分析
- **风险评估**: 多维度评估投资风险
- **机会发现**: 发现不同视角下的投资机会

## ⚡ 测试和演示

### 预设测试
```bash
# 运行完整测试套件
npx tsx test-investment-group-chat.ts

# 快速测试单个问题
npx tsx test-investment-group-chat.ts --quick

# 交互式群聊模式
npx tsx test-investment-group-chat.ts --interactive
```

### 测试问题示例
- 市场分析："当前美股估值处于历史高位，应该如何应对？"
- 新兴技术："AI技术对投资市场有什么影响？"
- 投资策略："年轻投资者如何分配成长股和价值股？"
- 风险管理："面对通胀压力，投资组合如何调整？"

## 🔧 技术特性

### 工作流引擎
- 基于Mastra工作流框架
- 步骤化执行，确保对话顺序
- 状态管理和错误处理

### 智能提示
- 精心设计的提示词模板
- 确保每个agent保持角色一致性
- 引导agent进行观点评价和互动

### 结果处理
- 结构化的对话数据
- 自动时间戳记录
- 智能总结生成

## 💡 未来扩展

### 更多投资大师
- 可以添加更多投资大师（如达里奥、索罗斯等）
- 支持自定义投资大师角色

### 增强互动
- 支持多轮讨论和深度辩论
- 添加投票和共识机制

### 个性化配置
- 可配置讨论主题和焦点
- 支持不同的讨论格式

---

**注意**: 此工作流生成的内容仅用于教育和讨论目的，不构成投资建议。投资有风险，决策需谨慎。 